{
  "name": "dawm",
  "version": "0.1.0-rc.5",
  "license": "MIT OR Apache-2.0",
  "author": {
    "name": "Nicholas Berlette",
    "email": "nick@berlette.com",
    "url": "https://github.com/nberlette"
  },
  "exports": {
    ".": "./src/index.ts",
    "./collections": "./src/collections.ts",
    "./dom": "./src/dom.ts",
    "./guards": "./src/guards.ts",
    "./options": "./src/options.ts",
    "./parse": "./src/parse.ts",
    "./select": "./src/select.ts",
    "./serialize": "./src/serialize.ts",
    "./tree": "./src/tree.ts",
    "./types": "./src/types.ts",
    "./wasm": "./src/wasm.ts",
    "./wire": "./src/wire.ts"
  },
  "imports": {
    "debrotli": "npm:debrotli@0.1.0"
  },
  "tasks": {
    "build:check": "deno run -Aq ./scripts/check_build.ts",
    "build:wasm": {
      "command": "WASM_OPT_LEVEL=4 WASM_OPT_BULK_MEMORY=1 WASM_OPT_EXTRA_ARGS=\"--all-features\" deno -Aq ./scripts/build.ts",
      "description": "Build the WebAssembly module using wasm-pack"
    },
    "build:npm": {
      "command": "./scripts/build_npm.ts",
      "description": "Build the dawm package for npm",
      "dependencies": [
        "build:wasm"
      ]
    },
    "build": {
      "command": "npm pack ./npm/dist --pack-destination ./npm",
      "description": "Build all distributables and package for release",
      "dependencies": [
        "build:npm"
      ]
    },
    "release:base": {
      "command": "gh release create $(jq -r .version deno.json)  -t $(jq -r .version deno.json) --generate-notes --latest",
      "dependencies": [
        "build"
      ]
    },
    "release": {
      "command": "deno task release:base ./npm/*.tgz",
      "description": "Create a GitHub release for the current version"
    },
    "release:draft": {
      "command": "deno task release:base --draft ./npm/*.tgz",
      "description": "Create a draft GitHub release for the current version"
    },
    "release:dry": {
      "command": "deno task release:base --draft --dry-run ./npm/*.tgz",
      "description": "Create a dry-run draft GitHub release for the current version"
    },
    "test": {
      "command": "deno test -Aq --no-check=remote --parallel --doc --coverage=.coverage --coverage-raw-data-only",
      "description": "Run the test suite",
      "dependencies": [
        "build:check"
      ]
    },
    "bench": {
      "command": "deno bench -Aq --no-check=remote",
      "dependencies": [
        "build:check"
      ]
    },
    "fmt": "deno fmt",
    "fmt:check": "deno fmt --check",
    "lint": "deno lint",
    "lint:fix": "deno lint --fix",
    "prepublish:jsr": {
      "command": "deno publish --dry-run --allow-dirty",
      "dependencies": [
        "build:wasm",
        "fmt:check",
        "lint",
        "test"
      ]
    },
    "publish:jsr": {
      "command": "cp deno.json deno.json.bak && jq '.name=\"@nick/dawm\"' deno.json > deno.json.tmp && mv deno.json.tmp deno.json && deno publish --allow-dirty; mv deno.json.bak deno.json",
      "dependencies": [
        "prepublish:jsr"
      ]
    },
    "prepublish:npm": {
      "command": "npm publish --dry-run --access public ./npm/dist",
      "dependencies": [
        "build"
      ]
    },
    "publish:npm": {
      "command": "npm publish --access public ./npm/dist",
      "dependencies": [
        "prepublish:npm"
      ]
    },
    "prepublish:gpr": {
      "command": "PACKAGE_NAME=@nberlette/dawm deno run -Aq ./scripts/build_npm.ts && NPM_TOKEN=$GITHUB_TOKEN NODE_AUTH_TOKEN=$GITHUB_TOKEN npm publish --dry-run --access public --registry https://npm.pkg.github.com ./npm/dist",
      "dependencies": [
        "build:wasm"
      ]
    },
    "publish:gpr": {
      "command": "PACKAGE_NAME=@nberlette/dawm deno run -Aq ./scripts/build_npm.ts && NODE_AUTH_TOKEN=$GITHUB_TOKEN NPM_TOKEN=$GITHUB_TOKEN npm publish --access public --registry https://npm.pkg.github.com ./npm/dist",
      "dependencies": [
        "prepublish:gpr"
      ]
    },
    "bump": {
      "command": "deno run -Aq ./scripts/bump_version.ts",
      "description": "Bump versions in deno.json/package.json/Cargo.toml"
    },
    "bumpush": {
      "command": "deno task bump && git commit -am \"chore: bump version\" && git push origin",
      "description": "Bump version, commit changes, push to origin"
    },
    "relish": {
      "command": "deno task release; deno task publish:jsr; deno task publish:npm; deno task publish:gpr",
      "description": "Create a GitHub Release and Publish to JSR + NPM"
    },
    "burp": {
      "dependencies": [
        "bumpush",
        "relish"
      ],
      "description": "BUmp, Release, and Publish to JSR and NPM. Burp!"
    }
  },
  "publish": {
    "include": [
      "src/**/*",
      "LICENSE",
      "README.md",
      "vendor",
      "examples"
    ],
    "exclude": [
      "scripts",
      "crates",
      "target",
      "npm",
      "**/.*",
      "**/*.{test,bench}.*"
    ]
  },
  "lint": {
    "rules": {
      "exclude": [
        "no-explicit-any",
        "no-import-prefix",
        "ban-types"
      ],
      "include": [
        "no-console",
        "guard-for-in"
      ],
      "tags": [
        "recommended"
      ]
    }
  },
  "exclude": [
    "**/*.js",
    "npm",
    "src/wasm"
  ],
  "hooks": {
    "post-checkout": [
      "command -v cargo &>/dev/null || curl -fsSL https://sh.rustup.rs | sh -s -- -y",
      "command -v deno &>/dev/null || curl -fsSL https://deno.land/install.sh | sh -",
      "build:wasm"
    ],
    "pre-commit": [
      "fmt:check",
      "lint"
    ]
  },
  "lock": true,
  "nodeModulesDir": "auto",
  "allowScripts": true
}
